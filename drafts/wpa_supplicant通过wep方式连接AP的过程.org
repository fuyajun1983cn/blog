#+TITLE: 通过WEP方式连接AP的流程分析


* 理论说明
  在802.11i之前，无线网络认证主要有两种方式：
  1. Open System Authentication
  2. Shared Key Authentication 

  在Open system Authentication中,client与AP之间的认证交互主要有如下4步， 
  

  当STA与AP连接的过程中，状态已经变成associated后，接下来就会进入密钥
  认证的过程，对于WEP SHARED Key的的方式，它会遵循如下的流程进行认证：
  [[../images/2017/2017021701.png]]

  对于WEP Open的方式，则相当于没有任何认证，只是简单地交换两个帧。

* 连接AP的相关命令
  通过WEP方式连接AP的步骤如下：
  #+BEGIN_SRC sh
    add_network
    set_network <network_id> ssid "<Ap ssid>"
    set_network <network_id> key_mgmt NONE
    set_network <network_id> wep_key0 "<wep_key0>"
    //add wep_key 1...3 if you set them on AP.
    set_network <network_id> auth_alg <OPEN | SHARED>
    set_network <network_id> wep_tx_keyidx <keyidx>
    set_network <network_id> scan_ssid 1 //for connecting hidden ssid
    select_network <network_idx>
  #+END_SRC

* wpa_supplicant代码流程分析
  
